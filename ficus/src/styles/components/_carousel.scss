@use '/node_modules/swiper/swiper-bundle.min.css';
@use '../helpers' as *;

:root {
	--swiper-theme-color: var(----color-text);
	--swiper-navigation-size: 4rem;
	--swiper-navigation-color: var(--color-text-inverted);
	--swiper-navigation-active-color: var(--color-text-inverted);
	--swiper-navigation-disabled-opacity: 0.3;
	--swiper-navigation-sides-offset: 2rem;
	--swiper-pagination-bullet-size: 1.4rem;
	--swiper-pagination-bullet-inactive-color: var(--color-text);
	--swiper-pagination-bullet-inactive-opacity: 1;
	--swiper-pagination-bullet-horizontal-gap: 0;
	--swiper-pagination-bullet-active-color: var(--color-text);
	--swiper-pagination-bullet-active-opacity: 1;
	--swiper-pagination-bottom: 0;
	--swiper-pagination-bullet-horizontal-gap: 0;
}



.swiper {
	width: 100%;
	&.is-style-v_carousel {
		&.wp-block-gallery.has-nested-images.columns-default {
			 figure.wp-block-image:not(#individual-image) {
				width: auto;
				height: 100%;
			 }
		}
	}
	&.is-style-h_carousel {
		&.wp-block-gallery.has-nested-images.columns-default {
			 figure.wp-block-image:not(#individual-image) {
				width: 100%;
				height: auto;
			 }
		}
	}
	&:has(.swiper-button-prev, .swiper-button-next) {
		&::before {
			content: "";
			position: absolute;
			top: auto;
			left: 0;
			right: 0;
			height: calc(var(--swiper-navigation-size) * 2);
			bottom: 0;
			background-image: linear-gradient(
				to bottom,
				transparent 0%,
				var(--color-text) 100%
			);
			opacity: 0.3;
			z-index: 2;
		}
	}
	&:has(.swiper-pagination) {
		padding-bottom: calc(var(--swiper-pagination-bullet-size) * 2);
		.swiper-button-prev,
		.swiper-button-next {
			bottom: calc(var(--swiper-navigation-sides-offset) + var(--swiper-pagination-bullet-size) * 2);
		}
		&::before {
			bottom: calc(var(--swiper-pagination-bullet-size) * 2);
		}
	}
	
}

.swiper-button-prev,
.swiper-button-next {
	top: auto;
	bottom: var(--swiper-navigation-sides-offset);
	width: var(--swiper-navigation-size);
	height: var(--swiper-navigation-size);
	&::after {
		content: "";
		font-family: var(--font-family-primary);
	}
	&.swiper-button-disabled {
		opacity: 1;
		pointer-events: none;
		&::after {
			opacity: 0.3;
		}
	}
}

.swiper-button-prev {
	&::after {
		@include masked-icon(arrow-right, var(--swiper-navigation-size));
		transform: rotate(180deg);
	}
}

.swiper-button-next {
	&::after {
		@include masked-icon(arrow-right, var(--swiper-navigation-size));
	}
}

.swiper-pagination {
	display: flex;
	align-items: center;
	justify-content: end;
	gap: 1rem;
	.swiper-pagination-bullet {
		border-radius: 0;
		border: 1px solid currentColor;
		&.swiper-pagination-bullet-active {
			background-color: transparent;
		}
	}
}

.is-root-container {
	.is-style-h_carousel,
	.is-style-v_carousel,
	.is-style-h_carousel_nodots,
	.is-style-v_carousel_nodots {
		> * {
			opacity: 0.3;
		}
		&::after {
			@extend %font-primary-l;
			content: "Carousel: check result in frontend";
			position: absolute;
			top: 50%;
			left: 50%;
			transform: translate(-50%, -50%);
		}
	}
}